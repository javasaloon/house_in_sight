:javascript
  $(document).ready(function(){
    var map = new BMap.Map("map_canvas");
    var targets = ["公园", "幼儿园", "小学", "中学", "高中", "大学", "超市", "地铁站", "医院"];
    var target = targets[0];
    var count =  1;
    var mymap = new HMap(map, "上海市", "张江镇");
    if(count == 1) mymap.showMap(target, $("#info"));
    else {
      $('#cl li').each(function(index){
        c = $.trim($(this).text())
        $("#out").append(c);
        var mymap = new HMap(map, "上海市", c);
        mymap.showMap(target, $("#info"));
      });
    }
  });

.row
  .span5
    #map_canvas{style: "height:600px; width:100%; border: 1px solid gray;"}
      Map
  .span2
    #info

  .span3
    %h5
      ="上海共有#{@districts.length}个区县，人口约1696万，面积约7945万平方公里。"
    %table.table.table-striped
      %tr
        %th 区县
        %th 特色

        - @districts.each do |district|
          %tr
            %td= district.name
            %td= district.features.join(', ') || "市中心"

